/*
 * main.h
 *
 *  Created on: Oct 24, 2016
 *      Author: rada
 */

#ifndef MAIN_H_
#define MAIN_H_

/* enable if there is a safety relay in line with working relay */
//#define USE_SAFETY_SW

#define USER_PIN				(PD1)
#define SWITCH_PIN				(PD2)
#define LED_PIN					(PD0)
#define USER_PIN_MASK			(1 << USER_PIN)
#define SWITCH_PIN_MASK			(1 << SWITCH_PIN)
#define LED_PIN_MASK			(1 << LED_PIN)

#ifdef USE_SAFETY_SW
#define SW_SAFE_PIN				(PA0)	/* Safety relay pin */
#define SW_SAFE_PIN_MASK		(1 << SW_SAFE_PIN)
#define heaterEnable()			do{ PORTA |= SW_SAFE_PIN_MASK; }while(0)
#define heaterDisable()			do{ PORTA &= ~SW_SAFE_PIN_MASK; }while(0)
#endif


#define MIN_TEMP	(20)
#define MAX_TEMP	(39)

typedef enum{
	usr_none,
	usr_up,
	usr_down
}userRq_t;


#define LED_ON()				do{ PORTD |= LED_PIN_MASK; }while(0)
#define LED_OFF()				do{ PORTD &= ~LED_PIN_MASK; }while(0)
#define LED_TGL()				do{ PIND = LED_PIN_MASK; }while(0)
#define heaterOn()				do{ PORTD |= SWITCH_PIN_MASK; LED_ON(); }while(0)
#define heaterOff()				do{ PORTD &= ~SWITCH_PIN_MASK; LED_OFF(); }while(0)

uint8_t MAIN_getUserCommand( void );


#endif /* MAIN_H_ */
